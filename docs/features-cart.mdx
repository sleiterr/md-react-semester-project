---\ntitle: Indk√∏bskurv\ndescription: Kurv-h√•ndtering, localStorage, og checkout\n---\n\n# üõí Indk√∏bskurv\n\n## Kurv Data Struktur\n\n```json\n[\n  {\n    \"id\": 1,\n    \"title\": \"iPhone 9\",\n    \"price\": 549,\n    \"quantity\": 2,\n    \"thumbnail\": \"https://...\"\n  },\n  {\n    \"id\": 5,\n    \"title\": \"MacBook Pro\",\n    \"price\": 1999,\n    \"quantity\": 1,\n    \"thumbnail\": \"https://...\"\n  }\n]\n```\n\n## Context.jsx - Cart Management\n\n```jsx\nimport { useState, useEffect } from 'react'\nimport { loadCart, saveCart } from '../utils/localStorage'\n\nfunction ShopContext() {\n  const [cart, setCart] = useState([])\n  \n  // Load cart on mount\n  useEffect(() => {\n    const saved = loadCart()\n    if (saved) setCart(saved)\n  }, [])\n  \n  // Save to localStorage whenever cart changes\n  useEffect(() => {\n    saveCart(cart)\n  }, [cart])\n  \n  // Add to cart\n  const addToCart = (product) => {\n    const exists = cart.find(p => p.id === product.id)\n    \n    if (exists) {\n      // Increase quantity\n      setCart(cart.map(p => \n        p.id === product.id \n          ? { ...p, quantity: p.quantity + 1 }\n          : p\n      ))\n    } else {\n      // Add new item\n      setCart([...cart, { ...product, quantity: 1 }])\n    }\n  }\n  \n  // Remove from cart\n  const removeFromCart = (productId) => {\n    setCart(cart.filter(p => p.id !== productId))\n  }\n  \n  // Update quantity\n  const updateQuantity = (productId, quantity) => {\n    if (quantity <= 0) {\n      removeFromCart(productId)\n    } else {\n      setCart(cart.map(p =>\n        p.id === productId\n          ? { ...p, quantity }\n          : p\n      ))\n    }\n  }\n  \n  // Calculate total\n  const cartTotal = cart.reduce((sum, item) => \n    sum + (item.price * item.quantity), \n    0\n  )\n  \n  const cartItemCount = cart.reduce((count, item) => \n    count + item.quantity, \n    0\n  )\n  \n  return {\n    cart,\n    cartTotal,\n    cartItemCount,\n    addToCart,\n    removeFromCart,\n    updateQuantity\n  }\n}\n```\n\n## localStorage Helper (utils/localStorage.js)\n\n```jsx\nexport const saveCart = (cart) => {\n  try {\n    localStorage.setItem('cart', JSON.stringify(cart))\n  } catch (error) {\n    console.error('Error saving cart:', error)\n  }\n}\n\nexport const loadCart = () => {\n  try {\n    const saved = localStorage.getItem('cart')\n    return saved ? JSON.parse(saved) : []\n  } catch (error) {\n    console.error('Error loading cart:', error)\n    return []\n  }\n}\n\nexport const clearCart = () => {\n  localStorage.removeItem('cart')\n}\n```\n\n## Add to Cart Button\n\n```jsx\nimport { useContext } from 'react'\nimport { ShopContext } from '../../Context/Context'\n\nfunction ProductCard({ product }) {\n  const { addToCart } = useContext(ShopContext)\n  \n  const handleAddToCart = () => {\n    addToCart(product)\n    alert('Produkt tilf√∏jet til kurv!')\n  }\n  \n  return (\n    <div className={styles.card}>\n      <img src={product.thumbnail} alt={product.title} />\n      <h3>{product.title}</h3>\n      <p className={styles.price}>{product.price} DKK</p>\n      <button onClick={handleAddToCart}>\n        Tilf√∏j til kurv\n      </button>\n    </div>\n  )\n}\n```\n\n## CartPage.jsx - Full Cart View\n\n```jsx\nimport { useContext } from 'react'\nimport { ShopContext } from '../../Context/Context'\nimport Summary from '../../components/Cart/Summary'\nimport DiscountCode from '../../components/DiscountCode/DiscountCode'\nimport styles from './CartPage.module.css'\n\nfunction CartPage() {\n  const { cart, removeFromCart, updateQuantity, cartTotal } = useContext(ShopContext)\n  \n  if (cart.length === 0) {\n    return <div className={styles.empty}>Din kurv er tom</div>\n  }\n  \n  return (\n    <div className={styles.cartPage}>\n      <h1>Din Indk√∏bskurv</h1>\n      \n      <div className={styles.cartContent}>\n        <div className={styles.items}>\n          <table>\n            <thead>\n              <tr>\n                <th>Produkt</th>\n                <th>Pris</th>\n                <th>Antal</th>\n                <th>I alt</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {cart.map(item => (\n                <tr key={item.id}>\n                  <td className={styles.product}>\n                    <img src={item.thumbnail} alt={item.title} />\n                    {item.title}\n                  </td>\n                  <td>{item.price} DKK</td>\n                  <td>\n                    <input \n                      type=\"number\" \n                      min=\"1\"\n                      value={item.quantity} \n                      onChange={(e) => updateQuantity(item.id, parseInt(e.target.value))}\n                    />\n                  </td>\n                  <td>{item.price * item.quantity} DKK</td>\n                  <td>\n                    <button onClick={() => removeFromCart(item.id)}>\n                      Slet\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        \n        <aside className={styles.summary}>\n          <DiscountCode />\n          <Summary total={cartTotal} />\n        </aside>\n      </div>\n    </div>\n  )\n}\n\nexport default CartPage\n```\n\n## Summary.jsx\n\n```jsx\nimport { useState } from 'react'\nimport styles from './Summary.jsx'\n\nfunction Summary({ total, discount = 0 }) {\n  const finalTotal = total - discount\n  \n  return (\n    <div className={styles.summary}>\n      <h3>Ordreresume</h3>\n      \n      <div className={styles.row}>\n        <span>Subtotal:</span>\n        <span>{total} DKK</span>\n      </div>\n      \n      {discount > 0 && (\n        <div className={styles.row}>\n          <span>Rabat:</span>\n          <span>-{discount} DKK</span>\n        </div>\n      )}\n      \n      <div className={styles.row}>\n        <span>Fragt:</span>\n        <span>Gratis</span>\n      </div>\n      \n      <hr />\n      \n      <div className={styles.row + ' ' + styles.total}>\n        <span>I alt:</span>\n        <span>{finalTotal} DKK</span>\n      </div>\n      \n      <button className={styles.checkout}>\n        G√• til betaling\n      </button>\n    </div>\n  )\n}\n\nexport default Summary\n```\n\n## CSS - CartPage.module.css\n\n```css\n.cartPage {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 2rem;\n}\n\n.empty {\n  text-align: center;\n  padding: 4rem 2rem;\n  color: #999;\n  font-size: 1.2rem;\n}\n\n.cartContent {\n  display: grid;\n  grid-template-columns: 1fr 300px;\n  gap: 2rem;\n  margin-top: 2rem;\n}\n\n.items table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.items th,\n.items td {\n  padding: 1rem;\n  text-align: left;\n  border-bottom: 1px solid #eee;\n}\n\n.items th {\n  background: #f5f5f5;\n  font-weight: bold;\n}\n\n.product {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\n.product img {\n  width: 50px;\n  height: 50px;\n  object-fit: cover;\n}\n\n.items input[type=\"number\"] {\n  width: 60px;\n  padding: 0.5rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.items button {\n  background: #ff4444;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.summary {\n  position: sticky;\n  top: 20px;\n  background: #f9f9f9;\n  padding: 1.5rem;\n  border-radius: 8px;\n  border: 1px solid #eee;\n}\n\n/* Mobile */\n@media (max-width: 768px) {\n  .cartContent {\n    grid-template-columns: 1fr;\n  }\n  \n  .items table {\n    font-size: 0.9rem;\n  }\n}\n```\n\n---\n\n**N√¶ste:** L√¶s [Rabatkoder](/features-discount) for discount-logik\n"